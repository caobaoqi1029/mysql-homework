"use strict";(self["webpackChunkstu_score_front"]=self["webpackChunkstu_score_front"]||[]).push([[974],{4974:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"findAdd"},[t("el-input",{staticStyle:{width:"240px","margin-left":"0"},attrs:{autocomplete:"off",placeholder:"请输入学生姓名",clearable:""},model:{value:e.stuName,callback:function(t){e.stuName=t},expression:"stuName"}}),t("el-input",{staticStyle:{width:"240px"},attrs:{autocomplete:"off",placeholder:"请输入班号",clearable:""},model:{value:e.className,callback:function(t){e.className=t},expression:"className"}}),t("el-select",{attrs:{placeholder:"请选择年级（必填）",clearable:""},model:{value:e.admissionYear,callback:function(t){e.admissionYear=t},expression:"admissionYear"}},e._l(e.classYears,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1),t("el-select",{attrs:{placeholder:"请选择专业（必填）",clearable:""},model:{value:e.major,callback:function(t){e.major=t},expression:"major"}},e._l(e.majors,(function(e){return t("el-option",{key:e.majorId,attrs:{label:e.majorName,value:e.majorId}})})),1),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchStuList}},[e._v("搜索")]),t("el-button",{staticStyle:{"margin-left":"0"},attrs:{icon:"el-icon-refresh"},on:{click:e.resetStuList}},[e._v("刷新")])],1),t("div",{staticClass:"stuTable"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.stuScoreList,stripe:"",size:"small"}},[t("el-table-column",{attrs:{label:"排名",width:"40",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.pageNum-1)*e.pageSize+t.$index+1)+" ")]}}])}),t("el-table-column",{attrs:{prop:"stuId",label:"学号",sortable:"",align:"center",width:"90"}}),t("el-table-column",{attrs:{prop:"stuName",label:"学生姓名",align:"center",sortable:"",width:"100"}}),t("el-table-column",{attrs:{prop:"className",align:"center",width:"180",label:"班级名称",sortable:""}}),e._l(e.courseList,(function(a,s){return t("el-table-column",{attrs:{prop:"",label:a.courseName,align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.courseScore[s]))])]}}],null,!0)})})),t("el-table-column",{attrs:{prop:"scoreTotal",label:"必修课总分",sortable:"",align:"center"}})],2)],1),t("div",{staticClass:"page"},[t("el-pagination",{attrs:{"pager-count":11,background:"","current-page":e.pageNum,"page-size":e.pageSize,"page-sizes":[5,10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1),t("el-backtop",{attrs:{"visibility-height":200}},[t("div",{staticStyle:{"{\n      height":"100%",width:"100%","background-color":"#f2f5f6","box-shadow":"0 0 6px rgba(0,0,0, .30)","text-align":"center","line-height":"40px",color:"#1989fa"}},[e._v(" ↑ ")])])],1)},l=[],r=a(4161),o=a(7344),i={stuName:"MajorScore",data(){let e=new Date,t=e.getFullYear(),a=t-1,s=new Date(t+"-9-01 00:00:00");return e>s&&(a+=1),{majors:[],major:"",admissionYear:"",courseList:[],stuScoreList:[{courseScore:[]},{courseScore:[]},{courseScore:[]},{courseScore:[]}],pageNum:1,pageSize:50,stuId:"",stuName:"",className:"",total:0,classYears:[{value:"1",label:a},{value:"2",label:a-1},{value:"3",label:a-2},{value:"4",label:a-3}]}},created(){this.getMajors()},methods:{getStuScoreList(){r.Z.get(o.Z.baseURL+"/score/getStuScoreList?admissionYearMajor="+this.admissionYear+this.major+"&stuName="+this.stuName+"&pageSize="+this.pageSize+"&pageNum="+this.pageNum+"&className="+this.className,{headers:{Authorization:this.$store.state.token}}).then((e=>{"20000"==e.data.code&&(this.stuScoreList=e.data.data.stuScoreList,this.total=e.data.data.total)}))},getCourseList(){r.Z.get(o.Z.baseURL+"/course/getScoreCourse?majorId="+this.major+"&admissionYear="+this.admissionYear,{headers:{Authorization:this.$store.state.token}}).then((e=>{"20000"==e.data.code&&(this.courseList=e.data.data)}))},getMajors(){r.Z.get(o.Z.baseURL+"/major/getAllMajorName",{headers:{Authorization:this.$store.state.token}}).then((e=>{this.majors=e.data.data}))},resetStuList(){location.reload()},searchStuList(){""!=this.major&&null!=this.major&&""!=this.admissionYear&&null!=this.admissionYear&&(this.pageNum=1,this.getCourseList(),this.getStuScoreList())},handleCurrentChange(e){this.pageNum=e,this.getStuScoreList()},handleSizeChange(e){this.pageSize=e,this.pageNum=1,this.getStuScoreList()}}},n=i,c=a(3736),u=(0,c.Z)(n,s,l,!1,null,"6017ec31",null),h=u.exports},7344:function(e,t){const a={assertsSubDirectory:"static",assertsPublicPath:"/",baseURL:"http://118.31.60.230:8091",timeout:2e4,changeOrigin:!0};t["Z"]=a}}]);
//# sourceMappingURL=974.1def275c.js.map