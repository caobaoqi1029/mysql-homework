"use strict";(self["webpackChunkstu_score_front"]=self["webpackChunkstu_score_front"]||[]).push([[767],{3858:function(t,e,s){s.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("h1",[t._v("大学生成绩管理系统")]),e("el-button",{attrs:{type:"success",round:"",icon:"el-icon-switch-button"},on:{click:t.logout}},[t._v("退出登录")])],1)},n=[],i=(s(7658),s(4161)),o=s(7344),r={name:"Header",methods:{logout(){i.Z.get(o.Z.baseURL+"/logout",{headers:{Authorization:this.$store.state.token}}).then((t=>{(t.data.code="20000")?(this.$store.commit("REMOVE_INFO"),this.$router.push("/login"),this.$message.success(t.data.msg)):this.$message.error("注销失败")}))}}},u=r,l=s(3736),d=(0,l.Z)(u,a,n,!1,null,"7573ff2d",null),c=d.exports},8767:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var a=function(){var t=this,e=t._self._c;return e("el-container",[e("el-aside",{attrs:{width:"200px"}},[e("StuLeftSide")],1),e("el-container",[e("el-header",{staticStyle:{padding:"0 10px"}},[e("Header")],1),e("el-main",{staticStyle:{padding:"0 10px"}},[e("router-view")],1)],1)],1)},n=[],i=s(3858),o=function(){var t=this,e=t._self._c;return e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff",router:!0,"active-text-color":"#ffd04b"},on:{open:t.handleOpen,close:t.handleClose}},[e("el-menu-item",{attrs:{index:"/student/index"}},[e("i",{staticClass:"el-icon-user"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("个人信息")])]),e("el-menu-item",{attrs:{index:"/student/majorScore"}},[e("i",{staticClass:"el-icon-menu"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("本专业成绩表")])]),e("el-menu-item",{attrs:{index:"/student/chooseCourse"}},[e("i",{staticClass:"el-icon-school"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("学生选课")])]),e("el-menu-item",{attrs:{index:"/student/stuMessage"},on:{click:t.noMsgTip}},[e("i",{staticClass:"el-icon-chat-dot-square"}),e("span",{attrs:{slot:"title"},slot:"title"},[e("span",[t._v("班主任消息")]),e("el-badge",{staticStyle:{"margin-left":"15px"},attrs:{value:t.stuUnreadMsgNum}})],1)])],1)},r=[],u=s(4161),l=s(7344),d={name:"StuLeftSide",data(){return{stuUnreadMsgNum:""}},created(){},mounted(){this.getStuUnreadNum(),this.timer=setInterval((()=>{setTimeout(this.getStuUnreadNum,0)}),5e3)},methods:{noMsgTip(){u.Z.put(l.Z.baseURL+"/stuMessage/hasRead",{stuId:this.$store.state.userInfo.stuId},{headers:{Authorization:this.$store.state.token}}).then((t=>{"20000"==t.data.code&&(this.stuUnreadMsgNum="0")}))},getStuUnreadNum(){u.Z.get(l.Z.baseURL+"/stuMessage/getStuUnreadNum?stuId="+this.$store.state.userInfo.stuId,{headers:{Authorization:this.$store.state.token}}).then((t=>{"20000"==t.data.code&&(this.stuUnreadMsgNum=t.data.data+"")}))},handleOpen(t,e){},handleClose(t,e){}},beforeDestroy(){clearInterval(this.timer),this.timer=null}},c=d,h=s(3736),m=(0,h.Z)(c,o,r,!1,null,"68bc85d9",null),f=m.exports,g={name:"Student",components:{Header:i.Z,StuLeftSide:f}},p=g,v=(0,h.Z)(p,a,n,!1,null,"60a9e322",null),_=v.exports},7344:function(t,e){const s={assertsSubDirectory:"static",assertsPublicPath:"/",baseURL:"http://118.31.60.230:8091",timeout:2e4,changeOrigin:!0};e["Z"]=s}}]);
//# sourceMappingURL=767.ec7bef49.js.map